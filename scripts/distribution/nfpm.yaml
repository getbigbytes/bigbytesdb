name: "${name}"
arch: "${arch}"
platform: "linux"
version: "${version}"
section: "database"
priority: "extra"
maintainer: "Bigbytes Authors <opensource@getbigbytes.com>"
description: |
  Bigbytes is a powerful cloud data warehouse. Built for elasticity and efficiency.
  Free and open. Also available in the cloud: https://app.bigbytes.com
vendor: "Digitrans Inc"
homepage: "https://bigbytes.com"
license: "Apache-2.0"
depends:
  - libc6 (>= 2.31)
contents:
  # Binaries
  - src: ${path}/bin/bigbytes-query
    dst: /usr/bin/bigbytes-query
  - src: ${path}/bin/bigbytes-meta
    dst: /usr/bin/bigbytes-meta
  - src: ${path}/bin/bigbytes-metactl
    dst: /usr/bin/bigbytes-metactl

  # Configs
  - src: ${path}/configs/bigbytes-query.toml
    dst: /etc/bigbytes/bigbytes-query.toml
    type: config
  - src: ${path}/configs/bigbytes-meta.toml
    dst: /etc/bigbytes/bigbytes-meta.toml
    type: config

  # Systemd
  - src: ${path}/systemd/bigbytes-query.service
    dst: /lib/systemd/system/bigbytes-query.service
  - src: ${path}/systemd/bigbytes-meta.service
    dst: /lib/systemd/system/bigbytes-meta.service
  - src: ${path}/systemd/bigbytes-query.default
    dst: /etc/default/bigbytes-query
  - src: ${path}/systemd/bigbytes-meta.default
    dst: /etc/default/bigbytes-meta

  # Docs
  - src: ${path}/readme.txt
    dst: /usr/share/doc/bigbytes/readme.txt
    file_info:
      mode: 0644

  - dst: /var/lib/bigbytes
    type: dir
    file_info:
      mode: 0750
  - dst: /var/log/bigbytes
    type: dir
    file_info:
      mode: 0755

scripts:
  preinstall: ${path}/scripts/preinstall.sh
  postinstall: ${path}/scripts/postinstall.sh
